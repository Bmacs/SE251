<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Availability Calendar</title>
  <link type="text/css" rel="stylesheet" href="calendar.css"/>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
</head>
<body>
  <h1>Availability Calendar</h1>
  <div class="main">
  <label>Month:</label>
    <select id="month">
      <option value="1">January</option>
      <option value="2">February</option>
      <option value="3">March</option>
      <option value="4">April</option>
      <option value="5">May</option>
      <option value="6">June</option>
      <option value="7">July</option>
      <option value="8">August</option>
      <option value="9">September</option>
      <option value="10">October</option>
      <option value="11">November</option>
      <option value="12">December</option>

    </select>

    <label>Year:</label>
    <select id="year">
      <option value="2015">2016</option>
      <option value="2016">2017</option>
      <option value="2017">2018</option>


    </select>
  </div>
  <div id="results">

  </div>
  <button type="button" class="available">Available All Month</button>
  <button type="button" class="unavailable">Unavailable All Month</button>
</body>
</html>

<script>

$(document).ready(function() {

var ends;
var weekRow;

var makeGrid = function() {
var tab = "<table style='border:solid 2px; border-color:black'>";
tab += "<thead>";
tab += "<tr> <td class ='dayHead'>Sunday</td> " +
        "<td class ='dayHead'>Monday</td> " +
        "<td class ='dayHead'>Tuesday</td> " +
        "<td class ='dayHead'>Wednesday</td> </td> " +
        "<td class ='dayHead'>Thursday</td> " +
        "<td class ='dayHead'>Friday</td> " +
        "<td class ='dayHead'>Saturday</td>";
        tab += "</thead>";
        var num = 1;
        tab +="<tbody>"
        for (row = 0; row < weekRow; row++) {
            tab += "<tr>";
            for (col = 0; col < 7; col++) {
                if (dayStarts < 1) {
                    tab += "<td></td>";
                }
                else if (dayStarts <= ends) {
                    if (day == num) {
                        tab += "<td id='day' <div class='today'><p>" + dayStarts + "</p></div></td>";
                        num++
                    }
                    else {
                        tab += "<td id='day' <div class='day'><p>" + dayStarts + "</p></div></td>";
                        num++;
                    }
                }
                dayStarts++;
            }
            tab += "</tr>";
        }
        tab +="</tbody>";
        tab += "</table>";
        $(tab).appendTo('#results');
    };

    var date = function() {
        if (year == 2016) {
            switch (month) {
                case "0":
                    month = "January";
                    dayStarts = -4;
                    ends = 31;
                    weekRow = 6;
                    break;
                case "1":
                    month = "February";
                    ends = 29;
                    dayStarts = 0;
                    weekRow = 5;
                    break;
                case "2":
                    month = "March";
                    ends = 31;

                    dayStarts = 0;
                    weekRow = 5;
                    break;
                case "3":
                    month = "April";
                    ends = 30;
                    prevDays = 27;
                    dayStarts = -4;
                    weekRow = 5;
                    break;
                case "4":
                    month = "May";
                    ends = 31;
                    dayStarts = 1;
                    weekRow = 5;
                    break;
                case "5":
                    month = "June";
                    ends = 30;
                    dayStarts = -2;
                    weekRow = 5;
                    break;
                case "6":
                    month = "July";
                    ends = 31;
                    dayStarts = -4;
                    weekRow = 6;
                    break;
                case "7":
                    month = "August";
                    ends = 31;
                    dayStarts = 0;
                    weekRow = 5;
                    break;
                case "8":
                    month = "September";
                    ends = 30;
                    dayStarts = -3;
                    weekRow = 5;
                    break;
                case "9":
                    month = "October";
                    ends = 31;
                    dayStarts = -5;
                    weekRow = 6;
                    break;
                case "10":
                    month = "November";
                    ends = 30;
                    dayStarts = -1;
                    weekRow = 5;
                    break;
                case "11":
                    month = "December";
                    ends = 31;
                    dayStarts = -3;
                    weekRow = 5;
                    break;
            }
        }
        if (year == 2017) {
            switch (month) {
                case "0":
                    month = "January";
                    dayStarts = -4;
                    ends = 31;
                    weekRow = 6;
                    break;
                case "1":
                    month = "February";
                    ends = 29;
                    dayStarts = 0;
                    weekRow = 5;
                    break;
                case "2":
                    month = "March";
                    ends = 31;

                    dayStarts = 0;
                    weekRow = 5;
                    break;
                case "3":
                    month = "April";
                    ends = 30;
                    prevDays = 27;
                    dayStarts = -4;
                    weekRow = 5;
                    break;
                case "4":
                    month = "May";
                    ends = 31;
                    dayStarts = 1;
                    weekRow = 5;
                    break;
                case "5":
                    month = "June";
                    ends = 30;
                    dayStarts = -2;
                    weekRow = 5;
                    break;
                case "6":
                    month = "July";
                    ends = 31;
                    dayStarts = -4;
                    weekRow = 6;
                    break;
                case "7":
                    month = "August";
                    ends = 31;
                    dayStarts = 0;
                    weekRow = 5;
                    break;
                case "8":
                    month = "September";
                    ends = 30;
                    dayStarts = -3;
                    weekRow = 5;
                    break;
                case "9":
                    month = "October";
                    ends = 31;
                    dayStarts = -5;
                    weekRow = 6;
                    break;
                case "10":
                    month = "November";
                    ends = 30;
                    dayStarts = -1;
                    weekRow = 5;
                    break;
                case "11":
                    month = "December";
                    ends = 31;
                    dayStarts = -3;
                    weekRow = 5;
                    break;
            }
        }  if (year == 2018) {
              switch (month) {
                  case "0":
                      month = "January";
                      dayStarts = -4;
                      ends = 31;
                      weekRow = 6;
                      break;
                  case "1":
                      month = "February";
                      ends = 29;
                      dayStarts = 0;
                      weekRow = 5;
                      break;
                  case "2":
                      month = "March";
                      ends = 31;

                      dayStarts = 0;
                      weekRow = 5;
                      break;
                  case "3":
                      month = "April";
                      ends = 30;
                      prevDays = 27;
                      dayStarts = -4;
                      weekRow = 5;
                      break;
                  case "4":
                      month = "May";
                      ends = 31;
                      dayStarts = 1;
                      weekRow = 5;
                      break;
                  case "5":
                      month = "June";
                      ends = 30;
                      dayStarts = -2;
                      weekRow = 5;
                      break;
                  case "6":
                      month = "July";
                      ends = 31;
                      dayStarts = -4;
                      weekRow = 6;
                      break;
                  case "7":
                      month = "August";
                      ends = 31;
                      dayStarts = 0;
                      weekRow = 5;
                      break;
                  case "8":
                      month = "September";
                      ends = 30;
                      dayStarts = -3;
                      weekRow = 5;
                      break;
                  case "9":
                      month = "October";
                      ends = 31;
                      dayStarts = -5;
                      weekRow = 6;
                      break;
                  case "10":
                      month = "November";
                      ends = 30;
                      dayStarts = -1;
                      weekRow = 5;
                      break;
                  case "11":
                      month = "December";
                      ends = 31;
                      dayStarts = -3;
                      weekRow = 5;
                      break;
              }
          }
      }
      function clickColor() {
          $('tbody').find('td').hover(function () {
              var cc = 0;
              $('.day, .today').click(function () {
                  cc++;
                  if (cc == 1) {
                      $(this).css('background-color', 'rgb(0 , 255 , 0');
                  }
                  if (cc == 2) {
                      $(this).css('background-color', 'rgb(255 , 0 , 0');
                      cc = 0;
                  }
              });
          });
      }

      var currentDate = new Date();
      var year = currentDate.getFullYear().toString();
      var month = currentDate.getMonth().toString();
      var day = currentDate.getDate();
      $("#month").val(month);
      $("#year").val(year);
      date();
      makeGrid();
      clickColor();

      $("#year , #month").change(function () {
          year = $("#year option:selected").val();
          month = $("#month option:selected").val();

         if (month == currentDate.getMonth().toString()){
             day = currentDate.getDate();
         }
         else {
             day = 0;
         }
          date();
          $("table , h2").remove();
          makeGrid();
          clickColor();
      });
      $('.available').click(function () {
              $('.day, .today').css('background-color', 'rgb(0 , 255 , 0');
      });
      $('.unavailable').click(function () {
          $('.day, .today').css('background-color', 'rgb(255 , 0 , 0');
      });
  });

  </script>
